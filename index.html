<form id="loanForm" method="POST" enctype="multipart/form-data">
  <div class="form-row">
    <label for="fullName">Full Name</label>
    <input id="fullName" name="fullName" type="text" required />
  </div>

  <div class="form-row">
    <label for="phone">Phone Number</label>
    <input id="phone" name="phone" type="tel" required />
  </div>

  <div class="form-row">
    <label for="address">Address</label>
    <textarea id="address" name="address" rows="2" required></textarea>
  </div>

  <div class="form-row">
    <label for="loanAmount">Loan Amount</label>
    <input id="loanAmount" name="loanAmount" type="number" required />
  </div>

  <div class="form-row">
    <label for="repaymentMonth">Repayment Duration</label>
    <select id="repaymentMonth" name="repaymentMonth" required>
      <option value="">Select duration</option>
      <option value="1">1 Month</option>
      <option value="2">2 Months</option>
      <option value="3">3 Months</option>
    </select>
  </div>

  <div class="form-row">
    <label for="validID">Upload Valid ID (image or PDF)</label>
    <input id="validID" name="validID" type="file" accept="image/*,.pdf" required />
  </div>

  <div class="form-row form-terms">
    <input id="agree" name="agree" type="checkbox" required />
    <label for="agree">I agree to the Terms & Conditions</label>
  </div>

  <button type="submit" class="btn-submit">Submit Application</button>
</form>

<script>
  const form = document.getElementById("loanForm");

  form.addEventListener("submit", async function (e) {
    e.preventDefault();

    const formData = new FormData(form);
    const scriptURL = "YOUR_WEB_APP_URL_HERE"; // replace with your actual HTTPS URL

    try {
      const response = await fetch(scriptURL, {
        method: "POST",
        body: formData
      });

      const result = await response.json();

      if (result.result === "success") {
        alert("Your application is complete and under verification. Please wait 24â€“48 hours.");
        form.reset();
      } else {
        alert("Something went wrong. Please try again later.");
      }

    } catch (error) {
      console.error(error);
      alert("Submission failed. Please try again.");
    }
  });
</script>
